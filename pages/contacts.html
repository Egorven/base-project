<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Имя Студента</title>
  <link rel="stylesheet" href="../styles/styles.css">
</head>

<body>
  <!-- Основной контейнер -->
  <a href="#main" class="skip-link">Перейти к содержанию</a>
  <div class="page">

    <!-- Шапка -->
    <header class="header">
      <img src="../images/icons/logo.png" alt="Логотип" class="logo">
      <h1 class="header__title">Егор</h1>
    </header>

    <!-- Навигация -->
    <nav class="nav" aria-label="Основная навигация">
      <ul class="nav__list">
        <li class="nav__item">
          <a class="nav__link" href="../">Главная</a>
        </li>
        <li class="nav__item">
          <a class="nav__link" href="../pages/projects.html">Проекты</a>
        </li>
        <li class="nav__item">
          <a class="nav__link" href="../pages/diary.html">Дневник</a>
        </li>
        <li class="nav__item nav__item--active">
          <a class="nav__link" href="../pages/contacts.html" aria-current="page">Контакты</a>
        </li>
      </ul>
    </nav>

    <!-- Основной контент -->
    <main class="main" id="main">
      <h2>Свяжитесь со мной</h2>

      <form id="myForm" novalidate>
        <fieldset>
          <legend>Контактная форма</legend>
          <div class="form-group">
            <label for="name">
              Имя <span class="required-indicator" aria-hidden="true">*</span>
            </label>
            <input type="text" id="name" name="name" required aria-required="true" />
            <span class="error-message" id="name-error" role="alert"></span>
          </div>

          <div class="form-group">
            <label for="email">
              Email <span class="required-indicator" aria-hidden="true">*</span>
            </label>
            <input type="email" id="email" name="email" required aria-required="true" />
            <span class="error-message" id="email-error" role="alert"></span>
          </div>

          <div class="form-group">
            <label for="message">
              Сообщение <span class="required-indicator" aria-hidden="true">*</span>
            </label>
            <textarea id="message" name="message" required aria-required="true" rows="5"></textarea>
            <span class="error-message" id="message-error" role="alert"></span>
          </div>

          <button type="submit">Отправить сообщение</button>
        </fieldset>
      </form>

      <div>
        <h2>Контакты:</h2>
        <p>Почта: student@edu.ru</p>
        <p>Github: username</p>
        <p>Адрес: Город, Страна</p>
      </div>

    </main>

    <!-- Подвал -->
    <footer class="footer">
      <p class="footer__text">&copy; 2025 Контакты </p>
    </footer>
  </div>
  <script>
    document.getElementById('myForm').addEventListener('submit', function (e) {
      e.preventDefault();
      let isValid = true;

      document.querySelectorAll('.error-message').forEach(el => el.textContent = '');
      document.querySelectorAll('[aria-invalid]').forEach(el => el.removeAttribute('aria-invalid'));

      const fields = ['name', 'email', 'message'];
      fields.forEach(name => {
        const field = document.getElementById(name);
        const errorEl = document.getElementById(`${name}-error`);
        const value = field.value.trim();

        if (!value) {
          field.setAttribute('aria-invalid', 'true');
          field.setAttribute('aria-describedby', `${name}-error`);
          errorEl.textContent = 'Это поле обязательно для заполнения.';
          isValid = false;
        } else if (name === 'email' && !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value)) {
          field.setAttribute('aria-invalid', 'true');
          field.setAttribute('aria-describedby', `${name}-error`);
          errorEl.textContent = 'Введите корректный email.';
          isValid = false;
        }
      });

      if (isValid) {
        const msg = document.createElement('div');
        msg.setAttribute('role', 'alert');
        msg.className = 'alert-message';
        msg.textContent = 'Сообщение отправлено!';
        document.body.appendChild(msg);
        setTimeout(() => msg.remove(), 3000);
      }
    });
  </script>
</body>

</html>